#include <iostream>
#include <vector>
#include "scheduling_algorithms.h"

using namespace std;

int main() {
    int n;
    cout << "Enter number of processes: ";
    cin >> n;

    SchedulerSJF scheduler;

    for (int i = 0; i < n; i++) {
        string name;
        int at, bt;
        cout << "\nProcess " << i + 1 << " name: "; cin >> name;
        cout << "Arrival Time: "; cin >> at;
        cout << "Burst Time: "; cin >> bt;
        scheduler.addProcess(Process(name, at, bt));
    }

    scheduler.runSJF();
    vector<Process> results = scheduler.getResults();

    cout << "\nPID\tAT\tBT\tST\tCT\tTAT\tWT\tRT\n";
    for (auto &p : results) {
        cout << p.pid << "\t" << p.arrivalTime << "\t" << p.burstTime << "\t"
             << p.startTime << "\t" << p.completionTime << "\t"
             << p.turnaroundTime << "\t" << p.waitingTime << "\t" 
             << p.responseTime << endl;
    }

    return 0;
}